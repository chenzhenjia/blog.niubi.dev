<!doctype html><html lang=zh-cn><head><meta name=generator content="Hugo 0.103.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>陈</title><meta name=Description content="陈asdasdasd"><meta property="og:title" content="陈"><meta property="og:description" content="陈asdasdasd"><meta property="og:type" content="website"><meta property="og:url" content="https://blog.niubi.dev/"><meta property="og:site_name" content="陈"><meta name=twitter:card content="summary"><meta name=twitter:title content="陈"><meta name=twitter:description content="陈asdasdasd"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.niubi.dev/><link rel=alternate href=/index.xml type=application/rss+xml title=陈><link rel=feed href=/index.xml type=application/rss+xml title=陈><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/blog.niubi.dev\/","inLanguage":"zh-cn","author":{"@type":"Person","name":"陈"},"description":"陈asdasdasd","name":"陈"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=陈>陈</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=陈>陈</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class="page home" data-home=posts><div class=home-profile><div class=links></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/%E4%BD%BF%E7%94%A8kubespray%E9%83%A8%E7%BD%B2kubernetes%E9%9B%86%E7%BE%A4/>使用kubespray部署kubernetes集群</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>陈</a></span>&nbsp;<span class=post-publish>published on <time datetime=2017-11-28>2017-11-28</time></span></div><div class=content>准备工作 因为是部署集群，所以需要两台机器，(我使用的是digitalocean这个云提供商) 内存至少1.5GB 以上，不然会安装失败。 需要每一台机器都能 ping 通 我的一些配置 系统为 centos7 节点的信息 这里使用digitalocean提供的内网地址 准备安装 修改主节点的 hosts 文件，把节点ip 和名字写进去 vi /etc/hosts
10.132.37.154 master 10.132.45.167 node1 所有节点无密码登录
生成无密码的密钥对，用来进行主节点到副节点之间的无密码登录。 直接全都回车，生成的密钥对在 ~/.ssh 目录下面，默认名称为 id_rsa和id_rsa.pub ssh-keygen 把公钥分别写到主节点和副节点的~/.ssh/authorized_keys 文件中。 注意：每个节点都有添加这个公钥，不管是本机还是其他机器 # 先查看 id_rsa.pub 内容，复制出来，贴贴到 authorized_keys文件的最末尾 cat ~/.ssh/id_rsa.pub # 贴到末尾 vi ~/.ssh/authorized_keys 在主节点安装pip
centos 安装 easy_install pip ubuntu 安装 apt-get update -y apt-get install python python-pip centos 需要安装 git
yum -y install git 使用 pip 安装 ansible 和 kubespray</div><div class=post-footer><a href=/posts/%E4%BD%BF%E7%94%A8kubespray%E9%83%A8%E7%BD%B2kubernetes%E9%9B%86%E7%BE%A4/>Read More</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/liquibase-%E8%B8%A9%E5%9D%91%E8%AE%B0/>liquibase 踩坑记</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>陈</a></span>&nbsp;<span class=post-publish>published on <time datetime=2017-11-28>2017-11-28</time></span></div><div class=content>liquibase 踩坑记 liquibase 是跨多种数据库平台的数据库迁移和初始化工具，但是在迁移到其它数据库平台的时候会遇到各种字段类型不一致导致出错。由于我使用的是 SpringBoot 和 hibernate，并且在 hibernate 初始化的时候打开了 validate，所以从不同数据库迁移会出问题。
uuid 出错的问题 当在 hibernate 里面使用了 uuid 的时候，在postgresql 里面是正常的，但是在使用 MySQL 的时候 hibernate 会报一下错误found [char (Types#CHAR)], but expecting [binary(255) (Types#BINARY)] ，所以需要 liquibase 里面写上以下配置。
&lt;!-- uuid 类型的定义 --> &lt;property name="type.uuid" value="RAW(16)" dbms="oracle"/> &lt;property name="type.uuid" value="UUID" dbms="h2"/> &lt;property name="type.uuid" value="UNIQUEIDENTIFIER" dbms="mssql"/> &lt;property name="type.uuid" value="BINARY(16)" dbms="mysql"/> &lt;property name="type.uuid" value="uuid" dbms="postgresql"/> 然后修改 liquibase uuid 的 column 节点配置
&lt;!-- 把之前的 type="uuid" 改为 ${type.uuid} --> &lt;column name="id" remarks="ID" type="${type.</div><div class=post-footer><a href=/posts/liquibase-%E8%B8%A9%E5%9D%91%E8%AE%B0/>Read More</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/%E8%A7%A3%E5%86%B3kubespray%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4%E7%9A%84check-certs-set-sync-certs-to-true-%E9%94%99%E8%AF%AF/>解决kubespray 安装 k8s 集群的Check_certs | Set 'sync_certs' to true' 错误</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>陈</a></span>&nbsp;<span class=post-publish>published on <time datetime=2017-11-28>2017-11-28</time></span></div><div class=content>在 kubespray 的 issue 上看到的Failed Kargo deploy at &rsquo;etcd : Check_certs | Set &lsquo;sync_certs&rsquo; to true&rsquo;
解决方法 yum -y install python-pip pip install https://pypi.python.org/packages/2.7/J/Jinja2/Jinja2-2.8-py2.py3-none-any.whl</div><div class=post-footer><a href=/posts/%E8%A7%A3%E5%86%B3kubespray%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4%E7%9A%84check-certs-set-sync-certs-to-true-%E9%94%99%E8%AF%AF/>Read More</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/%E5%B0%8F%E7%B1%B3mini%E5%88%B7padavan%E5%90%8E%E5%AE%89%E8%A3%85time-machine/>小米 mini 刷 padavan 后安装 time machine</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>陈</a></span>&nbsp;<span class=post-publish>published on <time datetime=2017-11-11>2017-11-11</time></span></div><div class=content>准备工作 刷了 padavan 后的小米mini 路由器 小米 mini 刷 padavan 教程
一个移动硬盘或者 u 盘
把 u 盘格式化为 ext4 文件格式
挂载 u 盘到路由器
安装 opkg 命令和其它设置
进入 padavan 后台 默认用户名和密码是：admin
点击系统管理 修改管理员账号和密码为 root
点击配置扩展环境 启用 opt 自动更新 &mdash;> 应用 开始安装 使用 ssh 进入路由器，密码为你修改后的密码 ssh root@192.168.123.1 先执行 opkg update 安装 mc, 执行 opkg install mc 安装 dbus，执行 opkg install dbus 安装和配置 avahi，执行opkg install avahi-daemon avahi-utils /opt/etc/avahi/avahi-daemon.conf 这个文件是 avahi-daemon 的配置文件，不需要管。 创建一个 /opt/etc/avahi/services/afpd.service 文件 touch /opt/etc/avahi/services/afpd.</div><div class=post-footer><a href=/posts/%E5%B0%8F%E7%B1%B3mini%E5%88%B7padavan%E5%90%8E%E5%AE%89%E8%A3%85time-machine/>Read More</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/%E5%B0%8F%E7%B1%B3wifimini%E5%88%B7padavan/>小米 WiFi mini 刷Padavan</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>陈</a></span>&nbsp;<span class=post-publish>published on <time datetime=2017-11-09>2017-11-09</time></span></div><div class=content>准备工作 准备一跟网线备用 获取路由器的 ssh 权限 刷入开发版 刷机教程 先使用你的小米账号绑定你的路由器 进入下面的地址登录小米账号获取 ssh 工具 获取地址 把 ssh 刷入路由器 进入小米路由器 ssh root@192.168.31.1 PandoraBox 刷 Padavan 先下载小米的开发版 ROM 把 ROM 刷入小米路由 刷机教程 然后刷 Padavan 和小米 ROM 刷 Padavan 的步骤一样 小米ROM刷 Padavan 下载 Breed
ssh 进入路由器 ssh root@192.168.31.1
进入 tmp 文件夹 cd /tmp
下载 Breed wget https://breed.hackpascal.net/breed-mt7620-xiaomi-mini.bin
刷入 Breed
chmod +x breed-mt7620-xiaomi-mini.bin mtd write breed-mt7620-xiaomi-mini.bin Bootloader 执行命令之后会出现 Writing from breed-mt7620-xiaomi-mini.bin to Bootloader 然后重启路由器，重启路由器后小米路由器的灯会变蓝灯闪烁，这时候说明已经刷成功了但是却找不到 WiFi，这时候需要使用网线和电脑连接,连接后再进行下一个步骤
刷入 Padavan</div><div class=post-footer><a href=/posts/%E5%B0%8F%E7%B1%B3wifimini%E5%88%B7padavan/>Read More</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/macos%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4-base64/>MacOS下使用命令 Base64</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>陈</a></span>&nbsp;<span class=post-publish>published on <time datetime=2017-10-31>2017-10-31</time></span></div><div class=content>编码 echo 'string' | base64 解码 echo 'c3RyaW5nCg==' | base64 -D</div><div class=post-footer><a href=/posts/macos%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4-base64/>Read More</a></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link><a href=/page/2/>2</a></span></li><li class="page-item active"><span class=page-link><a href=/page/3/>3</a></span></li><li class=page-item><span class=page-link><a href=/page/4/>4</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5524310624522502" crossorigin=anonymous></script></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>陈</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>